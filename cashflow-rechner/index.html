<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Cashflow-Rechner | Mehrfamilienhaus & Eigentumswohnung</title>
  <meta name="description" content="Cashflow-Rechner für Eigentumswohnungen & Mehrfamilienhäuser. Kredit, Rate, Nebenkosten und monatlicher Cashflow realistisch berechnen." />
  <link rel="canonical" href="https://grundmannconsulting.de/cashflow-rechner/" />

  <meta property="og:title" content="Cashflow-Rechner | Grundmann Consulting" />
  <meta property="og:description" content="Kredit, Rate, Nebenkosten und monatlicher Cashflow realistisch berechnen." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://grundmannconsulting.de/cashflow-rechner/" />
  <meta property="og:image" content="https://grundmannconsulting.de/assets/Wohngebäude.png" />
  <meta name="robots" content="index,follow" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #f3efe7;
      --text: #111;
      --muted: rgba(0,0,0,.72);
      --line: rgba(0,0,0,.18);
      --max: 1160px;
      --radius: 12px;
      --base: 16px;
      --heroGrad: linear-gradient(90deg, rgba(16,40,33,.92) 0%, rgba(16,40,33,.75) 58%, rgba(16,40,33,.15) 100%);
      --panel: rgba(255,255,255,.22);
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      font-size: var(--base);
      line-height: 1.65;
    }
    p, li, label, input, button, a, small, textarea { font-size: var(--base); }
    .container{ width: min(var(--max), 92vw); margin: 0 auto; }

    .topnav{
      position: sticky;
      top: 0;
      z-index: 50;
      background: var(--heroGrad);
      color:#fff;
      border-bottom: 1px solid rgba(255,255,255,.10);
      overflow:hidden;
    }
    .topnav .container{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 12px 0;
      gap: 18px;
      min-width:0;
    }
    .logo{ display:flex; align-items:center; text-decoration:none; color:#fff; font-weight:700; }
    .logo-img{ height: 50px; width:auto; display:block; }

    /* NAV: immer scrollbar statt abschneiden */
    .navlinks{
      display:flex;
      align-items:center;
      gap: 10px;

      flex: 1;
      justify-content: flex-end;

      min-width:0;
      overflow-x:auto;
      overflow-y:hidden;
      white-space:nowrap;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      padding: 0 4px;
    }
    .navlinks::-webkit-scrollbar{ display:none; }
    .navlinks a{
      color:#fff; text-decoration:none; font-weight:600;
      padding: 8px 8px; border-radius: 10px;
      flex: 0 0 auto;
    }
    .navlinks a:hover{ background: rgba(255,255,255,.10); }

    .frame-gap{ padding: 54px 0; }

    .pagehead{
      width: min(var(--max), 92vw);
      margin: 54px auto 0;
      border-radius: var(--radius);
      overflow: hidden;
      background: var(--panel);
      border: 1px solid rgba(0,0,0,.10);
      padding: 26px 22px;
    }
    .pagehead h1{ margin: 0 0 6px; font-size: 28px; line-height: 1.15; }
    .pagehead p{ margin: 0; color: var(--muted); max-width: 90ch; }

    .grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 26px;
      align-items:start;
    }
    .panel{
      background: var(--panel);
      border: 1px solid rgba(0,0,0,.10);
      border-radius: var(--radius);
      padding: 18px;
    }
    .panel h2{ font-size: 18px; margin: 0 0 14px; letter-spacing: .2px; }
    .subhead{ margin: 18px 0 10px; font-weight: 700; font-size: 14px; opacity: .9; }

    .rows{ display:flex; flex-direction:column; gap: 12px; }
    .row{
      display:grid;
      grid-template-columns: 1fr 220px;
      gap: 14px;
      align-items:center;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(0,0,0,.10);
    }
    .row:last-child{ border-bottom:none; padding-bottom:0; }

    .label{ font-weight: 700; }
    .hint{ color: var(--muted); font-size: 12px; margin-top: 2px; }

    input{
      width:100%;
      border: none;
      background: rgba(0,0,0,.08);
      padding: 10px 12px;
      font-family: inherit;
      outline:none;
      border-radius: 8px;
      text-align: right;
    }

    .suffix{ position: relative; }
    .suffix span{
      position:absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: rgba(0,0,0,.55);
      font-weight: 600;
      pointer-events:none;
    }
    .suffix input{ padding-right: 34px; }

    .ek-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      align-items:start;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(0,0,0,.10);
    }
    .ek-grid .ekbox{
      display:flex;
      flex-direction:column;
      gap: 6px;
    }

    .result{ display:flex; flex-direction:column; gap: 12px; }
    .kpi{
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      padding: 12px 12px;
      border-radius: 10px;
      background: rgba(255,255,255,.28);
      border: 1px solid rgba(0,0,0,.10);
    }
    .kpi .name{ font-weight: 700; }
    .kpi .val{ font-weight: 700; }
    .kpi.green{ background: rgba(34,139,34,.10); border-color: rgba(34,139,34,.22); }
    .kpi.red{ background: rgba(200,0,0,.08); border-color: rgba(200,0,0,.18); }

    .small{ color: var(--muted); font-size: 12px; margin: 6px 0 0; }

    .btnrow{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 14px; }

    /* Button-Anordnung */
    .btnrow.controls{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      align-items:start;
    }
    .btncol{ display:flex; flex-direction:column; gap:10px; }
    .btncol.right{ align-items:stretch; }

    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      background: var(--heroGrad);
      color:#fff; border:none;
      padding: 10px 14px;
      font-weight:700; cursor:pointer; text-decoration:none;
      transition: transform .12s ease, filter .12s ease;
      border-radius: 10px;
      width: 100%;
    }
    .btn:hover{ filter: brightness(1.05); transform: translateY(-1px); }
    .btn.ghost{ background: rgba(0,0,0,.08); color:#111; border: 1px solid rgba(0,0,0,.14); }

    /* ===== Beratungsleistungen (Pricing) ===== */
    .section-title{
      text-align:center;
      font-weight: 700;
      font-size: 32px;
      margin: 0 0 18px;
    }
    .pricing-panel{
      background: var(--panel);
      border: 1px solid rgba(0,0,0,.10);
      border-radius: var(--radius);
      padding: 28px;
    }
    .pricing-panel h2{
      text-align:center;
      font-size: 18px;
      font-weight: 700;
      margin: 0 0 18px;
      letter-spacing: .2px;
    }
    .price-table{
      width:100%;
      margin: 0 auto;
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      border: 1px solid rgba(0,0,0,.12);
      border-radius: 10px;
      overflow:hidden;
      background: rgba(255,255,255,.24);
    }
    .price-col{
      padding: 16px 14px 14px;
      border-right: 1px solid rgba(0,0,0,.10);
      min-height: 560px;
      display:flex;
      flex-direction:column;
    }
    .price-col:last-child{ border-right:none; }

    .kicker{
      font-weight: 700;
      font-size: 18px;
      opacity:.95;
      margin-bottom: 6px;
      height: 44px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      padding: 0 6px;
      color: #102821;
    }
    .price{
      font-weight: 700;
      font-size: 26px;
      margin: 0;
      min-height: 34px;
      text-align: center;
    }
    .sub{
      opacity:.85;
      font-size: 12px;
      margin-top: 2px;
      min-height: 22px;
      text-align: center;
    }
    .col-cta{
      height: 48px;
      display:flex;
      align-items:center;
      justify-content:center;
      margin: 10px 0 10px;
    }
    .col-cta .btn{ width:100%; }
    .col-desc{
      color: rgba(0,0,0,.76);
      margin: 6px 0 10px;
      line-height: 1.6;
    }
    .checks{
      list-style:none;
      padding:0;
      margin: 0;
      display:flex;
      flex-direction:column;
      gap: 8px;
      color: rgba(0,0,0,.78);
    }
    .checks li{
      display:flex;
      gap: 8px;
      align-items:flex-start;
    }
    .dot{
      width:14px;height:14px;
      border-radius:50%;
      background: rgba(0,0,0,.10);
      position:relative;
      margin-top: 3px;
      flex: 0 0 14px;
    }
    .dot:after{
      content:"";
      position:absolute;
      left:4px; top:3px;
      width:6px; height:3px;
      border-left:2px solid rgba(0,0,0,.60);
      border-bottom:2px solid rgba(0,0,0,.60);
      transform: rotate(-45deg);
    }

    /* ===== Kontakt ===== */
    .contact-direct{
      display:flex;
      gap:36px;
      align-items:center;
      margin:12px 0 18px;
      font-weight:600;
      flex-wrap:wrap;
    }
    .contact-item{
      display:flex;
      align-items:center;
      gap:8px;
    }
    .contact-item a{
      text-decoration:none;
      color:var(--text);
    }
    .contact-item a:hover{ text-decoration:underline; }
    .icon svg{ display:block; color:#000; }
    .field{ margin-bottom:14px; }
    textarea{
      width:100%;
      border:none;
      background:rgba(0,0,0,.08);
      padding:12px;
      outline:none;
      border-radius: 8px;
      font-family: inherit;
      min-height:160px;
      resize:vertical;
    }

    /* Footer */
    footer{
      margin-top:54px;
      padding:22px 0 56px;
      border-top:1px solid rgba(0,0,0,.25);
      text-align:center;
    }
    .footer-logo{ height:44px; width:auto; opacity:.85; display:block; margin:0 auto 6px; }
    footer a{ font-size:12px; text-decoration:none; color:#111; }

    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
      .row{ grid-template-columns: 1fr; }
      input{ text-align:left; }
      .logo-img{ height: 40px; }
      .ek-grid{ grid-template-columns: 1fr; }
      .btnrow.controls{ grid-template-columns: 1fr; }

      .price-table{ grid-template-columns: 1fr; }
      .price-col{
        min-height:auto;
        border-right:none;
        border-bottom: 1px solid rgba(0,0,0,.10);
      }
      .price-col:last-child{ border-bottom:none; }
    }
  </style>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebApplication",
    "name":"Cashflow-Rechner",
    "applicationCategory":"FinanceApplication",
    "operatingSystem":"All",
    "url":"https://grundmannconsulting.de/cashflow-rechner/",
    "publisher":{
      "@type":"Organization",
      "name":"Grundmann Consulting",
      "url":"https://grundmannconsulting.de/"
    }
  }
  </script>
</head>

<body>

  <nav class="topnav">
    <div class="container">
      <a class="logo" href="/" aria-label="Startseite">
        <img src="/assets/Logo_Grundmann-Consulting_white.png" alt="Grundmann Consulting Logo" class="logo-img">
      </a>
      <div class="navlinks">
        <a href="/">Home</a>
        <a href="https://grundmannconsulting.de/immobilienberatung-halle/">Halle</a>
        <a href="https://grundmannconsulting.de/immobilienberatung-leipzig/">Leipzig</a>
        <a href="https://grundmannconsulting.de/immobilienberatung-dresden/">Dresden</a>
        <a href="https://grundmannconsulting.de/ki/">KI</a>
        <a href="https://grundmannconsulting.de/hausverwaltung/">Hausverwaltung</a>
        <a href="https://grundmannconsulting.de/bundesanleihe/">Bundesanleihe</a>
        <a href="#preise">Beratungsleistungen</a>
        <a href="#kontakt">Kontakt</a>
      </div>
    </div>
  </nav>

  <header class="pagehead">
    <h1>Cashflow-Rechner</h1>
    <p>Erstcheck für Kauf &amp; Bestand: Kreditsumme, Rate, nicht umlagefähige Kosten und Cashflow.</p>
  </header>

  <main class="frame-gap">
    <div class="container">
      <div class="grid">

        <section class="panel" aria-label="Eingaben">
          <h2>Kreditsumme</h2>

          <div class="rows">

            <div class="row">
              <div>
                <div class="label">Kaufpreis</div>
                <div class="hint"></div>
              </div>
              <div class="suffix">
                <input id="kaufpreis" type="text" inputmode="numeric" value="0" autocomplete="off">
                <span>€</span>
              </div>
            </div>

            <!-- EK: % und € -->
            <div class="ek-grid">
              <div class="ekbox">
                <div class="label">Eigenkapital (%)</div>
                <div class="hint">Anteil vom Kaufpreis</div>
                <div class="suffix">
                  <input id="ek_pct" type="text" inputmode="decimal" value="0" autocomplete="off">
                  <span>%</span>
                </div>
              </div>

              <div class="ekbox">
                <div class="label">Eigenkapital (€)</div>
                <div class="hint">Alternativ zu % (hat Vorrang, wenn &gt; 0)</div>
                <div class="suffix">
                  <input id="ek_eur" type="text" inputmode="numeric" value="0" autocomplete="off">
                  <span>€</span>
                </div>
              </div>
            </div>

            <div class="subhead">Kaufnebenkosten (automatisch)</div>

            <div class="row">
              <div><div class="label">Notar &amp; Grundbuch</div><div class="hint">in % vom Kaufpreis</div></div>
              <div class="suffix"><input id="nk_notar_pct" type="text" inputmode="decimal" value="0" autocomplete="off"><span>%</span></div>
            </div>

            <div class="row">
              <div><div class="label">Grunderwerbsteuer</div><div class="hint">in % vom Kaufpreis</div></div>
              <div class="suffix"><input id="nk_grest_pct" type="text" inputmode="decimal" value="0" autocomplete="off"><span>%</span></div>
            </div>

            <div class="row">
              <div><div class="label">Makler</div><div class="hint">optional</div></div>
              <div class="suffix"><input id="nk_makler_pct" type="text" inputmode="decimal" value="0" autocomplete="off"><span>%</span></div>
            </div>

            <div class="row">
              <div><div class="label">Sanierungskosten</div><div class="hint"></div></div>
              <div class="suffix">
                <input id="sanierung" type="text" inputmode="numeric" value="0" autocomplete="off">
                <span>€</span>
              </div>
            </div>

            <h2 style="margin-top:18px;">Berechnung der Rate</h2>

            <div class="row">
              <div><div class="label">Zins</div></div>
              <div class="suffix"><input id="zins_pct" type="text" inputmode="decimal" value="0" autocomplete="off"><span>%</span></div>
            </div>

            <div class="row">
              <div><div class="label">Tilgung</div></div>
              <div class="suffix"><input id="tilgung_pct" type="text" inputmode="decimal" value="0" autocomplete="off"><span>%</span></div>
            </div>

            <h2 style="margin-top:18px;">Cashflow</h2>

            <div class="subhead">Miete (soll)</div>

            <div class="row">
              <div><div class="label">Wohnfläche</div><div class="hint">m²</div></div>
              <div class="suffix"><input id="wf" type="text" inputmode="decimal" value="0" autocomplete="off"><span>m²</span></div>
            </div>

            <div class="row">
              <div><div class="label">Miete €/m²</div><div class="hint">Kaltmiete (Soll)</div></div>
              <div class="suffix"><input id="miete_qm" type="text" inputmode="decimal" value="0" autocomplete="off"><span>€</span></div>
            </div>

            <div class="subhead">Nicht umlagefähige Nebenkosten (Schätzung)</div>

            <div class="row">
              <div><div class="label">Rücklage / Instandhaltung</div><div class="hint">€/m² pro Monat</div></div>
              <div class="suffix"><input id="ih_qm" type="text" inputmode="decimal" value="0" autocomplete="off"><span>€</span></div>
            </div>

            <div class="row">
              <div><div class="label">Verwaltung (pro Monat)</div><div class="hint">nicht umlagefähig, € / Monat</div></div>
              <div class="suffix">
                <input id="verw" type="text" inputmode="numeric" value="0" autocomplete="off">
                <span>€</span>
              </div>
            </div>

            <div class="btnrow controls">
              <div class="btncol">
                <button class="btn ghost" type="button" id="resetBtn">Zurücksetzen</button>

                <button class="btn ghost" type="button" id="leipzigDefaultsBtn">Leipzig-Defaults</button>
                <button class="btn ghost" type="button" id="halleDefaultsBtn">Halle-Defaults</button>
                <button class="btn ghost" type="button" id="dresdenDefaultsBtn">Dresden-Defaults</button>
              </div>

              <div class="btncol right">
                <button class="btn ghost" type="button" id="copyBtn">Ergebnisse kopieren</button>
              </div>
            </div>

          </div>
        </section>

        <aside class="panel" aria-label="Ergebnisse">
          <h2>Ergebnisse</h2>

          <div class="result">
            <div class="kpi"><div class="name">Kaufnebenkosten (Summe)</div><div class="val" id="out_nk_sum">0,00&nbsp;€</div></div>

            <div class="kpi"><div class="name">Notar &amp; Grundbuch</div><div class="val" id="out_nk_notar_line">0,00&nbsp;€</div></div>
            <div class="kpi"><div class="name">Grunderwerbsteuer</div><div class="val" id="out_nk_grest_line">0,00&nbsp;€</div></div>
            <div class="kpi"><div class="name">Makler</div><div class="val" id="out_nk_makler_line">0,00&nbsp;€</div></div>

            <div class="kpi"><div class="name">Eigenkapital</div><div class="val" id="out_ek">0,00&nbsp;€</div></div>
            <div class="kpi"><div class="name">Kredit</div><div class="val" id="out_kredit">0,00&nbsp;€</div></div>
            <div class="kpi"><div class="name">Rate</div><div class="val" id="out_rate">0,00&nbsp;€ / Monat</div></div>

            <div class="kpi"><div class="name">Miete (soll)</div><div class="val" id="out_miete">0,00&nbsp;€ / Monat</div></div>
            <div class="kpi"><div class="name">Nicht umlagefähige NK</div><div class="val" id="out_nuk">0,00&nbsp;€ / Monat</div></div>

            <div class="kpi"><div class="name">Kaufpreis je m²</div><div class="val" id="out_price_qm">—</div></div>

            <div class="kpi" id="kpi_cashflow">
              <div class="name">Cashflow</div>
              <div class="val" id="out_cashflow">0,00&nbsp;€ / Monat</div>
            </div>

            <div class="kpi"><div class="name">Cashflow-Rendite (p.a.)</div><div class="val" id="out_cf_yield">—</div></div>
            <div class="kpi"><div class="name">Eigenkapitalrendite (p.a.)</div><div class="val" id="out_roe">—</div></div>

            <p class="small" id="out_note">Trage Werte ein, um eine Erstabschätzung zu erhalten.</p>

            <div class="btnrow">
              <a class="btn" href="#kontakt">Objekt prüfen lassen</a>
            </div>
          </div>
        </aside>

      </div>
    </div>
  </main>

  <!-- ===== Beratungsleistungen ===== -->
  <section class="frame-gap" id="preise">
    <div class="container">
      <div class="section-title">Beratungsleistungen</div>

      <div class="pricing-panel">
        <h2>Beratungsleistungen</h2>

        <div class="price-table">
          <div class="price-col">
            <div class="kicker">Kostenloser Objektcheck</div>
            <div class="price">€0</div>
            <div class="sub">pro Projekt</div>
            <div class="col-cta"><a class="btn" href="#kontakt">Kontakt</a></div>
            <div class="col-desc">Ziel des kostenlosen Objektchecks ist eine klare wirtschaftliche Ersteinschätzung der Immobilie.</div>
            <ul class="checks">
              <li><span class="dot"></span><span>Kurzbewertung der Immobilie</span></li>
              <li><span class="dot"></span><span>Top 3 Optimierungshebel</span></li>
              <li><span class="dot"></span><span>Klare Empfehlungen</span></li>
            </ul>
          </div>

          <div class="price-col">
            <div class="kicker">Ankaufsberatung</div>
            <div class="price">auf Anfrage</div>
            <div class="sub">pro Projekt</div>
            <div class="col-cta"><a class="btn" href="#kontakt">Kontakt</a></div>
            <div class="col-desc">Erhebliche Einsparpotenziale durch realistische Preiseinschätzung und Identifikation versteckter Risiken.</div>
            <ul class="checks">
              <li><span class="dot"></span><span>Standort- und Mikrolagenbewertung</span></li>
              <li><span class="dot"></span><span>Analyse der bestehenden Mieten und Potenziale</span></li>
              <li><span class="dot"></span><span>Prüfung der vorhandenen Unterlagen</span></li>
              <li><span class="dot"></span><span>Klare Entscheidungsempfehlung</span></li>
              <li><span class="dot"></span><span>Optional: Kontakt zu Maklern / Dienstleistern</span></li>
              <li><span class="dot"></span><span>Optional: Durchführung von Besichtigungen</span></li>
            </ul>
          </div>

          <div class="price-col">
            <div class="kicker">Objektoptimierung &amp; Strategie</div>
            <div class="price">auf Anfrage</div>
            <div class="sub">pro Projekt</div>
            <div class="col-cta"><a class="btn" href="#kontakt">Kontakt</a></div>
            <div class="col-desc">Maximierung der wirtschaftlichen Ergebnisse. Durch strukturierte Immobilienoptimierung werden Betriebskosten reduziert und Erträge langfristig gesteigert.</div>
            <ul class="checks">
              <li><span class="dot"></span><span>Analyse von Mietniveau und Erlösstruktur</span></li>
              <li><span class="dot"></span><span>Prüfung laufender Kosten und Dienstleisterverträge</span></li>
              <li><span class="dot"></span><span>Bewertung von Optimierungs- und Entwicklungspotenzialen</span></li>
              <li><span class="dot"></span><span>Priorisierung wirtschaftlich sinnvoller Maßnahmen</span></li>
              <li><span class="dot"></span><span>Optional: Prüfung der aktuellen Hausverwaltung</span></li>
            </ul>
          </div>

          <div class="price-col">
            <div class="kicker">Verkaufsberatung</div>
            <div class="price">auf Anfrage</div>
            <div class="sub">pro Projekt</div>
            <div class="col-cta"><a class="btn" href="#kontakt">Kontakt</a></div>
            <div class="col-desc">Immobilien werden nicht zum Angebotspreis gekauft. Deshalb ist eine strategische Verkaufsvorbereitung zur Erzielung des optimalen Marktpreises enorm wichtig. Auf Wunsch auch mit Begleitung des Eigenverkaufs ohne Makler (objektabhängig).</div>
            <ul class="checks">
              <li><span class="dot"></span><span>Analyse der Verkaufsreife und Ausgangslage</span></li>
              <li><span class="dot"></span><span>Bewertung sinnvoller Maßnahmen vor dem Verkauf</span></li>
              <li><span class="dot"></span><span>Einschätzung des optimalen Verkaufszeitpunkts</span></li>
              <li><span class="dot"></span><span>Vorbereitung relevanter Unterlagen</span></li>
              <li><span class="dot"></span><span>Strategische Beratung zur Preisfindung</span></li>
              <li><span class="dot"></span><span>Optional: Beratung bei Verkauf ohne Makler</span></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Kontaktieren Sie mich ===== -->
  <section class="frame-gap" id="kontakt">
    <div class="container">
      <div class="section-title">Kontakt</div>

      <div class="panel">
        <h2 style="font-size:18px; margin:0 0 14px; letter-spacing:.2px;">Kontaktieren Sie mich</h2>

        <div class="contact-direct">
          <div class="contact-item">
            <span class="icon">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
                <path d="M6.6 10.8a15.05 15.05 0 006.6 6.6l2.2-2.2c.3-.3.8-.4 1.2-.3
                1.3.4 2.7.6 4.1.6.7 0 1.3.6 1.3 1.3V21c0 .7-.6 1.3-1.3 1.3
                C10.4 22.3 1.7 13.6 1.7 3.3 1.7 2.6 2.3 2 3 2h3.3
                c.7 0 1.3.6 1.3 1.3 0 1.4.2 2.8.6 4.1.1.4 0 .9-.3 1.2l-2.3 2.2z"/>
              </svg>
            </span>
            <a href="tel:+491607738676">+49 160 7738676</a>
          </div>

          <div class="contact-item">
            <span class="icon">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
                <path d="M2 4h20a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V6a2 2 0 012-2zm0 2v.01L12 13 22 6.01V6H2zm20 2.24l-9.4 6.27a1 1 0 01-1.2 0L2 8.24V18h20V8.24z"/>
              </svg>
            </span>
            <a href="mailto:grundmann.immoplus@gmail.com">grundmann.immoplus@gmail.com</a>
          </div>
        </div>

        <p style="margin-top:6px; color: var(--muted);">
          Eine kurze Einordnung genügt: Objekttyp oder Adresse, aktueller Status und die zentrale Fragestellung.
        </p>

        <form
          action="https://formspree.io/f/mvzqvggb"
          method="POST"
          id="kontakt-form"
        >
          <div class="field">
            <label for="name">Name</label>
            <input id="name" name="Name" type="text" required style="text-align:left;">
          </div>

          <div class="field">
            <label for="email">E-Mail-Adresse</label>
            <input id="email" name="E-Mail" type="email" required style="text-align:left;">
          </div>

          <div class="field">
            <label for="phone">Telefonnummer (optional)</label>
            <input id="phone" name="Telefon" type="tel" style="text-align:left;">
          </div>

          <div class="field">
            <label for="message">Nachricht</label>
            <textarea id="message" name="Nachricht" required></textarea>
          </div>

          <button class="btn" type="submit" style="width:auto; border-radius:10px; padding:10px 14px;">Nachricht senden</button>

          <p id="form-success" style="display:none; margin-top:16px;">
            Vielen Dank für Ihre Nachricht. Ich melde mich zeitnah bei Ihnen.
          </p>
        </form>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <img class="footer-logo" src="/assets/Logo_Grundmann-Consulting.png" alt="Grundmann Consulting Logo">
    <div><a href="/impressum/">Impressum</a></div>
  </footer>

  <script>
    const nf2 = new Intl.NumberFormat('de-DE', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    const nf2plain = new Intl.NumberFormat('de-DE', { maximumFractionDigits: 2 });
    const eur = (n) => nf2.format(n) + " €";
    const eurPerMonth = (n) => nf2.format(n) + " € / Monat";
    const pct = (n) => nf2plain.format(n) + " %";
    const el = (id) => document.getElementById(id);

    function parseDeNumber(str){
      if (str == null) return 0;
      let s = String(str).trim();
      if (!s) return 0;
      s = s.replace(/\./g, "").replace(/,/g, ".");
      s = s.replace(/[^0-9.\-]/g, "");
      const v = Number.parseFloat(s);
      return Number.isFinite(v) ? v : 0;
    }

    function numInput(input){
      return Math.max(0, parseDeNumber(input.value));
    }

    const ids = [
      "kaufpreis","ek_pct","ek_eur","nk_notar_pct","nk_grest_pct","nk_makler_pct","sanierung",
      "zins_pct","tilgung_pct","wf","miete_qm","ih_qm","verw"
    ];

    const defaultsZero = Object.fromEntries(ids.map(id => [id, "0"]));

    const defaultsLeipzig = {
      kaufpreis: "200000",
      ek_pct: "20",
      ek_eur: "0",
      nk_notar_pct: "2,0",
      nk_grest_pct: "5,5",
      nk_makler_pct: "0,0",
      sanierung: "0",
      zins_pct: "2,7",
      tilgung_pct: "2,0",
      wf: "70",
      miete_qm: "9,0",
      ih_qm: "1,0",
      verw: "30"
    };

    const defaultsHalle = {
      kaufpreis: "200000",
      ek_pct: "20",
      ek_eur: "0",
      nk_notar_pct: "2,0",
      nk_grest_pct: "5,0",
      nk_makler_pct: "0,0",
      sanierung: "0",
      zins_pct: "2,7",
      tilgung_pct: "2,0",
      wf: "70",
      miete_qm: "8,0",
      ih_qm: "1,0",
      verw: "30"
    };

    const defaultsDresden = {
      kaufpreis: "200000",
      ek_pct: "20",
      ek_eur: "0",
      nk_notar_pct: "2,0",
      nk_grest_pct: "5,5",
      nk_makler_pct: "0,0",
      sanierung: "0",
      zins_pct: "2,7",
      tilgung_pct: "2,0",
      wf: "70",
      miete_qm: "10,0",
      ih_qm: "1,0",
      verw: "30"
    };

    function attachShiftArrowBoost(input, baseStep){
      input.addEventListener("keydown", (e) => {
        if (!e.shiftKey) return;
        if (e.key !== "ArrowUp" && e.key !== "ArrowDown") return;

        e.preventDefault();

        const v0 = parseDeNumber(input.value);
        const step = Number(baseStep || 1) || 1;

        const delta = (e.key === "ArrowUp" ? step : -step) * 10;
        const v = Math.max(0, v0 + delta);

        input.value = (step >= 1000) ? String(Math.round(v)) : String(v).replace(".", ",");
        calc();
      });
    }

    function calc(){
      const kp = numInput(el("kaufpreis"));

      const ekEurRaw = numInput(el("ek_eur"));
      let ekp = Math.min(100, Math.max(0, parseDeNumber(el("ek_pct").value)));
      let ek = kp * (ekp/100);

      if (ekEurRaw > 0){
        ek = Math.min(kp, ekEurRaw);
        ekp = (kp > 0) ? (ek / kp) * 100 : 0;
      }

      const notarPct = Math.max(0, parseDeNumber(el("nk_notar_pct").value));
      const grestPct = Math.max(0, parseDeNumber(el("nk_grest_pct").value));
      const maklerPct = Math.max(0, parseDeNumber(el("nk_makler_pct").value));

      const notar = kp * (notarPct/100);
      const grest = kp * (grestPct/100);
      const makler = kp * (maklerPct/100);
      const nkSum = notar + grest + makler;

      const sani = numInput(el("sanierung"));

      const kredit = Math.max(0, (kp - ek) + nkSum + sani);

      const z = Math.max(0, parseDeNumber(el("zins_pct").value))/100;
      const t = Math.max(0, parseDeNumber(el("tilgung_pct").value))/100;
      const rate = kredit * (z + t) / 12;

      const area = Math.max(0, parseDeNumber(el("wf").value));
      const rentqm = Math.max(0, parseDeNumber(el("miete_qm").value));
      const mieteMonat = area * rentqm;

      const ihqm = Math.max(0, parseDeNumber(el("ih_qm").value));
      const ih = area * ihqm;

      const verw = numInput(el("verw"));
      const nukSum = ih + verw;

      const cashflow = mieteMonat - rate - nukSum;

      const cfYield = ek > 0 ? (cashflow * 12 / ek) * 100 : null;
      const tilgungP_a = kredit * t;
      const roe = ek > 0 ? ((cashflow * 12 + tilgungP_a) / ek) * 100 : null;

      el("out_nk_sum").textContent = eur(nkSum);
      el("out_nk_notar_line").textContent = eur(notar);
      el("out_nk_grest_line").textContent = eur(grest);
      el("out_nk_makler_line").textContent = eur(makler);

      el("out_ek").textContent = eur(ek);
      el("out_kredit").textContent = eur(kredit);
      el("out_rate").textContent = eurPerMonth(rate);
      el("out_miete").textContent = eurPerMonth(mieteMonat);
      el("out_nuk").textContent = eurPerMonth(nukSum);
      el("out_cashflow").textContent = eurPerMonth(cashflow);
      el("out_cf_yield").textContent = (cfYield === null) ? "—" : pct(cfYield);
      el("out_roe").textContent = (roe === null) ? "—" : pct(roe);

      el("out_price_qm").textContent = (area > 0 && kp > 0)
        ? (nf2.format(kp / area) + " € / m²")
        : "—";

      const kpi = el("kpi_cashflow");
      kpi.classList.toggle("green", cashflow > 0);
      kpi.classList.toggle("red", cashflow < 0);

      const note =
        (kp===0 && area===0 && rentqm===0 && z===0 && t===0)
          ? "Trage Werte ein, um eine Erstabschätzung zu erhalten."
          : (cashflow >= 0
              ? "Positiver Cashflow: gut für Stabilität. Rücklagen/Leerstand realistisch prüfen."
              : "Negativer Cashflow: Hebel prüfen (Preis, Miete, NK, Sanierung, Zins, EK, Bewirtschaftung).");

      el("out_note").textContent = note;

      if (ekEurRaw > 0 && kp > 0){
        el("ek_pct").value = nf2plain.format(ekp).replace(".", ",");
      }
    }

    function applyDefaults(obj){
      Object.entries(obj).forEach(([k,v]) => {
        if (el(k)) el(k).value = String(v);
      });
      calc();
    }

    function bind(){
      ids.forEach(id => el(id).addEventListener("input", () => calc()));

      attachShiftArrowBoost(el("kaufpreis"), 1000);
      attachShiftArrowBoost(el("sanierung"), 1000);
      attachShiftArrowBoost(el("verw"), 10);

      el("resetBtn").addEventListener("click", () => applyDefaults(defaultsZero));
      el("leipzigDefaultsBtn").addEventListener("click", () => applyDefaults(defaultsLeipzig));
      el("halleDefaultsBtn").addEventListener("click", () => applyDefaults(defaultsHalle));
      el("dresdenDefaultsBtn").addEventListener("click", () => applyDefaults(defaultsDresden));

      el("copyBtn").addEventListener("click", async () => {
        const lines = [];

        lines.push("Cashflow-Rechner (Grundmann Consulting)");
        lines.push("");
        lines.push("Eingaben");
        lines.push(`- Kaufpreis: ${el("kaufpreis").value} €`);
        lines.push(`- Eigenkapital (%): ${el("ek_pct").value} %`);
        lines.push(`- Eigenkapital (€): ${el("ek_eur").value} €`);
        lines.push(`- Notar & Grundbuch (%): ${el("nk_notar_pct").value} %`);
        lines.push(`- Grunderwerbsteuer (%): ${el("nk_grest_pct").value} %`);
        lines.push(`- Makler (%): ${el("nk_makler_pct").value} %`);
        lines.push(`- Sanierungskosten: ${el("sanierung").value} €`);
        lines.push(`- Zins (%): ${el("zins_pct").value} %`);
        lines.push(`- Tilgung (%): ${el("tilgung_pct").value} %`);
        lines.push(`- Wohnfläche: ${el("wf").value} m²`);
        lines.push(`- Miete €/m²: ${el("miete_qm").value} €`);
        lines.push(`- Rücklage/Instandhaltung €/m²: ${el("ih_qm").value} €`);
        lines.push(`- Verwaltung (Monat): ${el("verw").value} €`);

        lines.push("");
        lines.push("Ergebnisse");
        lines.push(`- Kaufpreis je m²: ${el("out_price_qm").textContent}`);
        lines.push(`- Kaufnebenkosten (Summe): ${el("out_nk_sum").textContent}`);
        lines.push(`  - Notar & Grundbuch: ${el("out_nk_notar_line").textContent}`);
        lines.push(`  - Grunderwerbsteuer: ${el("out_nk_grest_line").textContent}`);
        lines.push(`  - Makler: ${el("out_nk_makler_line").textContent}`);
        lines.push(`- Eigenkapital: ${el("out_ek").textContent}`);
        lines.push(`- Kredit: ${el("out_kredit").textContent}`);
        lines.push(`- Rate: ${el("out_rate").textContent}`);
        lines.push(`- Miete (soll): ${el("out_miete").textContent}`);
        lines.push(`- Nicht umlagefähige NK: ${el("out_nuk").textContent}`);
        lines.push(`- Cashflow: ${el("out_cashflow").textContent}`);
        lines.push(`- Cashflow-Rendite (p.a.): ${el("out_cf_yield").textContent}`);
        lines.push(`- Eigenkapitalrendite (p.a.): ${el("out_roe").textContent}`);

        const text = lines.join("\n");

        try{
          await navigator.clipboard.writeText(text);
          el("copyBtn").textContent = "Kopiert ✓";
          setTimeout(() => (el("copyBtn").textContent = "Ergebnisse kopieren"), 1200);
        }catch(e){
          alert("Kopieren nicht möglich (Browser-Einstellung).");
        }
      });

      applyDefaults(defaultsZero);
    }

    bind();

    // Kontaktformular (Formspree) – Async Submit + Erfolgstext
    document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("kontakt-form");
      const success = document.getElementById("form-success");
      if (!form) return;

      form.addEventListener("submit", async function (event) {
        event.preventDefault();
        const data = new FormData(form);

        try {
          const response = await fetch(form.action, {
            method: form.method,
            body: data,
            headers: { "Accept": "application/json" }
          });

          if (response.ok) {
            form.reset();
            success.style.display = "block";
          } else {
            alert("Beim Senden ist ein Fehler aufgetreten. Bitte erneut versuchen.");
          }
        } catch (error) {
          alert("Verbindung fehlgeschlagen. Bitte später erneut versuchen.");
        }
      });
    });
  </script>

</body>
</html>